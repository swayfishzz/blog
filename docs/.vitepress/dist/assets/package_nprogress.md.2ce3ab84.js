import{_ as s,o as a,c as n,Q as p}from"./chunks/framework.8048b864.js";const h=JSON.parse('{"title":"nprogress","description":"","frontmatter":{},"headers":[],"relativePath":"package/nprogress.md","filePath":"package/nprogress.md"}'),o={name:"package/nprogress.md"},l=p(`<h1 id="nprogress" tabindex="-1">nprogress <a class="header-anchor" href="#nprogress" aria-label="Permalink to &quot;nprogress&quot;">​</a></h1><p><a href="https://www.npmjs.com/package/nprogress" target="_blank" rel="noreferrer">NProgress</a> 是一个轻量级的 JavaScript 库，用于在网页加载时显示进度条。它适用于 Ajax 请求或页面加载等场景，提供了简单而灵活的进度条效果。以下是使用 NProgress 的基本步骤：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nprogress</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nprogress</span></span></code></pre></div><h3 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h3><p>在项目中引入 NProgress</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> NProgress </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;nprogress&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;nprogress/nprogress.css&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> NProgress </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;nprogress&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;nprogress/nprogress.css&#39;</span></span></code></pre></div><p>在需要显示进度条的地方开始和结束加载时，调用 NProgress 的 <code>start</code> 和 <code>done</code> 方法：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 开始加载时调用</span></span>
<span class="line"><span style="color:#E1E4E8;">NProgress.</span><span style="color:#B392F0;">start</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 结束加载时调用</span></span>
<span class="line"><span style="color:#E1E4E8;">NProgress.</span><span style="color:#B392F0;">done</span><span style="color:#E1E4E8;">()</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 开始加载时调用</span></span>
<span class="line"><span style="color:#24292E;">NProgress.</span><span style="color:#6F42C1;">start</span><span style="color:#24292E;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 结束加载时调用</span></span>
<span class="line"><span style="color:#24292E;">NProgress.</span><span style="color:#6F42C1;">done</span><span style="color:#24292E;">()</span></span></code></pre></div><h3 id="定制进度条" tabindex="-1">定制进度条 <a class="header-anchor" href="#定制进度条" aria-label="Permalink to &quot;定制进度条&quot;">​</a></h3><p>通过 NProgress 提供的一些方法来定制进度条的外观和行为：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">NProgress.</span><span style="color:#B392F0;">configure</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  showSpinner: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 关闭右上角圆形加载器，默认 true</span></span>
<span class="line"><span style="color:#E1E4E8;">  color: </span><span style="color:#9ECBFF;">&#39;#ff0000&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 设置进度条颜色</span></span>
<span class="line"><span style="color:#E1E4E8;">  height: </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 设置进度条高度</span></span>
<span class="line"><span style="color:#E1E4E8;">  speed: </span><span style="color:#79B8FF;">500</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 自定义动画速度，默认是 200 毫秒</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">NProgress.</span><span style="color:#6F42C1;">configure</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  showSpinner: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 关闭右上角圆形加载器，默认 true</span></span>
<span class="line"><span style="color:#24292E;">  color: </span><span style="color:#032F62;">&#39;#ff0000&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 设置进度条颜色</span></span>
<span class="line"><span style="color:#24292E;">  height: </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 设置进度条高度</span></span>
<span class="line"><span style="color:#24292E;">  speed: </span><span style="color:#005CC5;">500</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 自定义动画速度，默认是 200 毫秒</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><h3 id="结合-vue-router" tabindex="-1">结合 Vue Router <a class="header-anchor" href="#结合-vue-router" aria-label="Permalink to &quot;结合 Vue Router&quot;">​</a></h3><p>下面为一个在路由前置钩子中加载进度条，路由加载完成后关闭的例子</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { createRouter, createWebHistory } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue-router&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> NProgress </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;nprogress&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;nprogress/nprogress.css&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">createRouter</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  history: </span><span style="color:#B392F0;">createWebHistory</span><span style="color:#E1E4E8;">(),</span></span>
<span class="line"><span style="color:#E1E4E8;">  routes: []</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">router.</span><span style="color:#B392F0;">beforeEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  NProgress.</span><span style="color:#B392F0;">start</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 跳转前开始加载进度条</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">router.</span><span style="color:#B392F0;">afterEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">next</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  NProgress.</span><span style="color:#B392F0;">done</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// 加载后关闭</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { createRouter, createWebHistory } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue-router&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> NProgress </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;nprogress&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;nprogress/nprogress.css&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createRouter</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  history: </span><span style="color:#6F42C1;">createWebHistory</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">  routes: []</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">router.</span><span style="color:#6F42C1;">beforeEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">to</span><span style="color:#24292E;">, </span><span style="color:#E36209;">from</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  NProgress.</span><span style="color:#6F42C1;">start</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 跳转前开始加载进度条</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">router.</span><span style="color:#6F42C1;">afterEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">to</span><span style="color:#24292E;">, </span><span style="color:#E36209;">next</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  NProgress.</span><span style="color:#6F42C1;">done</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// 加载后关闭</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div>`,14),e=[l];function r(t,c,E,y,i,d){return a(),n("div",null,e)}const F=s(o,[["render",r]]);export{h as __pageData,F as default};
